{
  "$defs": {
    "CreatePR": {
      "additionalProperties": false,
      "description": "Creates a pull request using the `gh` CLI.\n\n> [!IMPORTANT]\n> Requires the `gh` CLI to be installed.",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "directory_statuses": {
          "additionalProperties": {
            "enum": [
              "not-started",
              "failed",
              "completed"
            ],
            "type": "string"
          },
          "default": {},
          "propertyNames": {
            "format": "path"
          },
          "title": "Directory Statuses",
          "type": "object"
        },
        "slug": {
          "const": "create-pr",
          "default": "create-pr",
          "title": "Slug",
          "type": "string"
        },
        "config": {
          "$ref": "#/$defs/potent__operations__create_pr__Config"
        }
      },
      "required": [
        "config"
      ],
      "title": "CreatePR",
      "type": "object"
    },
    "EnableAutomerge": {
      "additionalProperties": false,
      "description": "Enables auto-merge for the PR corresponding to the current branch.\n\n> [!IMPORTANT]\n> Requires the `gh` CLI to be installed.",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "directory_statuses": {
          "additionalProperties": {
            "enum": [
              "not-started",
              "failed",
              "completed"
            ],
            "type": "string"
          },
          "default": {},
          "propertyNames": {
            "format": "path"
          },
          "title": "Directory Statuses",
          "type": "object"
        },
        "slug": {
          "const": "enable-automerge",
          "default": "enable-automerge",
          "title": "Slug",
          "type": "string"
        },
        "config": {
          "$ref": "#/$defs/potent__operations__enable_automerge__Config",
          "default": {
            "mode": "squash"
          }
        }
      },
      "title": "EnableAutomerge",
      "type": "object"
    },
    "GitAdd": {
      "additionalProperties": false,
      "description": "Stages files in git.",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "directory_statuses": {
          "additionalProperties": {
            "enum": [
              "not-started",
              "failed",
              "completed"
            ],
            "type": "string"
          },
          "default": {},
          "propertyNames": {
            "format": "path"
          },
          "title": "Directory Statuses",
          "type": "object"
        },
        "slug": {
          "const": "git-add",
          "default": "git-add",
          "title": "Slug",
          "type": "string"
        },
        "config": {
          "$ref": "#/$defs/potent__operations__git_add__Config"
        }
      },
      "required": [
        "config"
      ],
      "title": "GitAdd",
      "type": "object"
    },
    "GitCommit": {
      "additionalProperties": false,
      "description": "Commits staged files in git.",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "directory_statuses": {
          "additionalProperties": {
            "enum": [
              "not-started",
              "failed",
              "completed"
            ],
            "type": "string"
          },
          "default": {},
          "propertyNames": {
            "format": "path"
          },
          "title": "Directory Statuses",
          "type": "object"
        },
        "slug": {
          "const": "git-commit",
          "default": "git-commit",
          "title": "Slug",
          "type": "string"
        },
        "config": {
          "$ref": "#/$defs/potent__operations__git_commit__Config"
        }
      },
      "required": [
        "config"
      ],
      "title": "GitCommit",
      "type": "object"
    },
    "GitPull": {
      "additionalProperties": false,
      "description": "Pull from the remote repository.",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "directory_statuses": {
          "additionalProperties": {
            "enum": [
              "not-started",
              "failed",
              "completed"
            ],
            "type": "string"
          },
          "default": {},
          "propertyNames": {
            "format": "path"
          },
          "title": "Directory Statuses",
          "type": "object"
        },
        "slug": {
          "const": "git-pull",
          "default": "git-pull",
          "title": "Slug",
          "type": "string"
        }
      },
      "title": "GitPull",
      "type": "object"
    },
    "GitPush": {
      "additionalProperties": false,
      "description": "Push to the remote repository.",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "directory_statuses": {
          "additionalProperties": {
            "enum": [
              "not-started",
              "failed",
              "completed"
            ],
            "type": "string"
          },
          "default": {},
          "propertyNames": {
            "format": "path"
          },
          "title": "Directory Statuses",
          "type": "object"
        },
        "slug": {
          "const": "git-push",
          "default": "git-push",
          "title": "Slug",
          "type": "string"
        }
      },
      "title": "GitPush",
      "type": "object"
    },
    "GitStatus": {
      "additionalProperties": false,
      "description": "Ensures that you have a clean working directory. If there are any modified or un-staged files, this step fails.",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "directory_statuses": {
          "additionalProperties": {
            "enum": [
              "not-started",
              "failed",
              "completed"
            ],
            "type": "string"
          },
          "default": {},
          "propertyNames": {
            "format": "path"
          },
          "title": "Directory Statuses",
          "type": "object"
        },
        "slug": {
          "const": "git-status",
          "default": "git-status",
          "title": "Slug",
          "type": "string"
        }
      },
      "title": "GitStatus",
      "type": "object"
    },
    "GitSwitch": {
      "additionalProperties": false,
      "description": "Switches the local git branch. Can optionally create it if it's missing.",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "directory_statuses": {
          "additionalProperties": {
            "enum": [
              "not-started",
              "failed",
              "completed"
            ],
            "type": "string"
          },
          "default": {},
          "propertyNames": {
            "format": "path"
          },
          "title": "Directory Statuses",
          "type": "object"
        },
        "slug": {
          "const": "switch-branch",
          "default": "switch-branch",
          "title": "Slug",
          "type": "string"
        },
        "config": {
          "$ref": "#/$defs/potent__operations__git_switch__Config"
        }
      },
      "required": [
        "config"
      ],
      "title": "GitSwitch",
      "type": "object"
    },
    "RawCommand": {
      "additionalProperties": false,
      "description": "Runs a shell command. The step succeeds if the command exits 0 and fails otherwise.",
      "properties": {
        "comment": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "title": "Comment"
        },
        "directory_statuses": {
          "additionalProperties": {
            "enum": [
              "not-started",
              "failed",
              "completed"
            ],
            "type": "string"
          },
          "default": {},
          "propertyNames": {
            "format": "path"
          },
          "title": "Directory Statuses",
          "type": "object"
        },
        "slug": {
          "const": "raw-command",
          "default": "raw-command",
          "title": "Slug",
          "type": "string"
        },
        "config": {
          "$ref": "#/$defs/potent__operations__raw_command__Config"
        }
      },
      "required": [
        "config"
      ],
      "title": "RawCommand",
      "type": "object"
    },
    "potent__operations__create_pr__Config": {
      "additionalProperties": false,
      "properties": {
        "title": {
          "description": "The title of the PR.",
          "title": "Title",
          "type": "string"
        },
        "body_text": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "A string that will be used as the body of the PR. Exactly one of `body_text` or `body_file` is required.",
          "title": "Body Text"
        },
        "body_file": {
          "anyOf": [
            {
              "format": "file-path",
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The absolute path to a readable file containing the full body of the PR. Exactly one of `body_text` or `body_file` is required.",
          "title": "Body File"
        },
        "draft": {
          "default": false,
          "description": "Whether to open the PR in draft mode.",
          "title": "Draft",
          "type": "boolean"
        },
        "base_branch": {
          "anyOf": [
            {
              "type": "string"
            },
            {
              "type": "null"
            }
          ],
          "default": null,
          "description": "The branch that you want to merge your changes into. Defaults to the repo's default branch.",
          "title": "Base Branch"
        }
      },
      "required": [
        "title"
      ],
      "title": "Config",
      "type": "object"
    },
    "potent__operations__enable_automerge__Config": {
      "additionalProperties": false,
      "properties": {
        "mode": {
          "default": "squash",
          "description": "Sets the merge strategy for the PR.",
          "enum": [
            "merge",
            "squash"
          ],
          "title": "Mode",
          "type": "string"
        }
      },
      "title": "Config",
      "type": "object"
    },
    "potent__operations__git_add__Config": {
      "additionalProperties": false,
      "properties": {
        "all": {
          "default": false,
          "description": "If `true`, add stage files. Exactly one of `all` or `pattern` must be specified.",
          "title": "All",
          "type": "boolean"
        },
        "pattern": {
          "default": "",
          "description": "The file(s) to stage. Is processed as a [Python glob](https://docs.python.org/3/library/glob.html). Exactly one of `all` or `pattern` must be specified.",
          "title": "Pattern",
          "type": "string"
        }
      },
      "title": "Config",
      "type": "object"
    },
    "potent__operations__git_commit__Config": {
      "additionalProperties": false,
      "properties": {
        "message": {
          "description": "Commit message, submitted as is.",
          "title": "Message",
          "type": "string"
        },
        "allow_empty": {
          "default": false,
          "description": "If true, allows commits without changed/added files.",
          "title": "Allow Empty",
          "type": "boolean"
        }
      },
      "required": [
        "message"
      ],
      "title": "Config",
      "type": "object"
    },
    "potent__operations__git_switch__Config": {
      "additionalProperties": false,
      "properties": {
        "branch": {
          "description": "branch name",
          "title": "Branch",
          "type": "string"
        },
        "create_if_missing": {
          "default": false,
          "description": "If true, tries creating the branch if switching to it fails",
          "title": "Create If Missing",
          "type": "boolean"
        }
      },
      "required": [
        "branch"
      ],
      "title": "Config",
      "type": "object"
    },
    "potent__operations__raw_command__Config": {
      "additionalProperties": false,
      "properties": {
        "arguments": {
          "description": "The arguments that will be passed into Python's [subprocess.run()](https://docs.python.org/3/library/subprocess.html#subprocess.run)",
          "items": {
            "type": "string"
          },
          "title": "Arguments",
          "type": "array"
        }
      },
      "required": [
        "arguments"
      ],
      "title": "Config",
      "type": "object"
    }
  },
  "additionalProperties": false,
  "properties": {
    "version": {
      "const": "v1",
      "default": "v1",
      "title": "Version",
      "type": "string"
    },
    "comment": {
      "anyOf": [
        {
          "type": "string"
        },
        {
          "type": "null"
        }
      ],
      "default": null,
      "title": "Comment"
    },
    "operations": {
      "items": {
        "discriminator": {
          "mapping": {
            "create-pr": "#/$defs/CreatePR",
            "enable-automerge": "#/$defs/EnableAutomerge",
            "git-add": "#/$defs/GitAdd",
            "git-commit": "#/$defs/GitCommit",
            "git-pull": "#/$defs/GitPull",
            "git-push": "#/$defs/GitPush",
            "git-status": "#/$defs/GitStatus",
            "raw-command": "#/$defs/RawCommand",
            "switch-branch": "#/$defs/GitSwitch"
          },
          "propertyName": "slug"
        },
        "oneOf": [
          {
            "$ref": "#/$defs/GitPull"
          },
          {
            "$ref": "#/$defs/GitSwitch"
          },
          {
            "$ref": "#/$defs/GitStatus"
          },
          {
            "$ref": "#/$defs/GitAdd"
          },
          {
            "$ref": "#/$defs/GitCommit"
          },
          {
            "$ref": "#/$defs/GitPush"
          },
          {
            "$ref": "#/$defs/CreatePR"
          },
          {
            "$ref": "#/$defs/EnableAutomerge"
          },
          {
            "$ref": "#/$defs/RawCommand"
          }
        ]
      },
      "title": "Operations",
      "type": "array"
    },
    "directories": {
      "items": {
        "format": "path",
        "type": "string"
      },
      "title": "Directories",
      "type": "array"
    }
  },
  "required": [
    "operations",
    "directories"
  ],
  "title": "Plan",
  "type": "object"
}